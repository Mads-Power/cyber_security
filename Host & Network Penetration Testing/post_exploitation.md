# Post-Exploitation
## Windows Local Enumeration

### Enumerating System information
What are we looking for:
        1. Hostname = `hostname`, `systeminfo`
        2. OS name = `systeminfo`
        3. OS Build & Service Pack(Windows 7 SP1 7600) = `systeminfo`
        4. OS Architecture(x64/x86) = `systeminfo`
        5. Installed updates/Hotfixes = `wmic qfe get Caption,Description,HotFixID,InstalledOn,`, `systeminfo`
HttpFileServer 2.3 = rejetto, searchsploit rejetto
After gaining a reverse shell: `getuid`

### Enumerating Users & Groups
What are we looking for:
1. Current user & priveleges = `getuid`, `getprivs`,`whoami`
2. Additional user information = `whoami /priv`, `net user user_to_look_into`
3. other users on the system = `query user`, `net users`
4. Groups = `net localgroup`
5. Members of the built-in administrator group = `net localgroup administrators`
   
msfconsole module for logged on and previously logged on users:
1. background previous session(CTRL+z): `search logged_on`
2. `use 0` (`post/windows/gather/enum_logged_on_users`)
3.  `set SESSION ID`
4.  `run`
    
### Enumerate Network Information
What are we looking for:
1. Current IP address & network adapter = `ipconfig`, `ipconfig /all`
2. Internal networks = `arp -a`, `ipconfig /all`
3. TCP/UDP services running and their respective ports = `netstat -ano`
4. Other hosts on the network = ``
5. Routing Table = ``
6. Windows Firewall state = `netsh advfirewall firewall`,`netsh advfirewall firewall show allprofiles` `netsh firewall show state`

### Enumerating Processes & Services
What are we lookin for:
1. Running processes & services = `ps`, `tasklist /SVC`
2. Services = `net start`, 
3. Identify Process = `pgrep process`, migrate to:`migrate process`
4. Scheduled tasks = `wmic service list brief`

 ### Automating Windows Local Enumeration
 JAWS: https://github.com/411Hall/JAWS
 1. Save Raw file on vm and copy content: `CTRL + SHIFt + ALT` to open clipboard, and paste into empty file, store it on Desktop --> filename: jaws-enum.ps1
 1. msfconsole Session: `sessions 1`(choose session)
 2. On victim machine go to temp: `cd C:\\`, if not exist `mkdir Temp` and cd in to it.
 3. Upload file: `upload /root/Desktop/jaws-enum.ps1`
 4. Open shell session & running file: `shell` -> `powershell.exe -ExecutionPolicy Bypass -File .\jaws-enum.ps1 -OutputFilename JAWS-Enum.txt`
 5. Terminate channel and download to attacker pc: Terminate:`CTRL+c`, `download JAWS-Enum.txt`
## Linux Local Enumeration 